{"version":3,"sources":["webpack:///webpack/bootstrap dbe8b35f05c10f86d38d","webpack:///./pie_chart.js","webpack:///./modules/tools/extend.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,UAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;;AAGD;;;;;;;AC1FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;;AAEA,MAAK;;AAEL;;AAEA,G","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./out/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap dbe8b35f05c10f86d38d\n **/","var extend = require('extend');\r\n//扇形\r\nvar pie_chart = (function() {\r\n    function pie_chart(options) {\r\n        this.defaultOptions = {\r\n            container: null,\r\n            centerPoint: {},\r\n            radius: 0,\r\n            offSetDegree: 0,\r\n            takePercent: 0,\r\n            color: \"black\",\r\n            out: false\r\n        };\r\n        this.options = extend(this.defaultOptions, options);\r\n    }\r\n\r\n    pie_chart.prototype.basicDraw = function(color) {\r\n        var ctx = this.options.container.getContext('2d');\r\n        // this.options.centerPoint.y += Math.floor((this.options.out ? 1 : 0 )*10*Math.sin(this.options.takePercent/2));\r\n        // this.options.centerPoint.x += Math.floor((this.options.out ? 1 : 0 )*10*Math.cos(this.options.takePercent/2));\r\n        ctx.save();\r\n\r\n        ctx.fillStyle = color;\r\n        ctx.translate(this.options.centerPoint.x, this.options.centerPoint.y);\r\n        ctx.rotate(this.options.offSetDegree);\r\n        ctx.beginPath();\r\n        ctx.moveTo(this.options.centerPoint.x, this.options.centerPoint.y);\r\n        ctx.lineTo(this.options.centerPoint.x + this.options.radius, this.options.centerPoint.y);\r\n        ctx.arc(this.options.centerPoint.x, this.options.centerPoint.y, this.options.radius, 0, this.options.takePercent, false);\r\n        ctx.lineTo(this.options.centerPoint.x, this.options.centerPoint.y);\r\n        ctx.closePath();\r\n        ctx.fill();\r\n        \r\n        ctx.restore();\r\n    };\r\n\r\n    //判断canvas被点击后，是否在当前扇形区域内\r\n    pie_chart.prototype.inArea = function(screen_x, screen_y) {\r\n        var x = screen_x-this.options.centerPoint.x;\r\n        var y = screen_y-this.options.centerPoint.y;\r\n        var r = this.options.radius;\r\n        var off = this.options.offSetDegree;\r\n        var take = this.options.takePercent;\r\n        if(x*x + y*y <= r*r && (y >= x*Math.sin(off)) && y <= x*Math.sin(off+take)){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    pie_chart.prototype.draw = function() {\r\n        var _this = this;\r\n        _this.basicDraw(this.options.color);\r\n        _this.basicDraw(this.options.color);\r\n        //浮动\r\n        _this.options.container.addEventListener(\"mousemove\", function(e) {\r\n\r\n            var x = e.clientX;\r\n            var y = e.clientY;\r\n            if (_this.inArea(x, y)) {\r\n                _this.mouseOver();\r\n            }\r\n\r\n        });\r\n        //点击\r\n        _this.options.container.addEventListener('click', function(e) {\r\n\r\n            var x = e.clientX;\r\n            var y = e.clientY;\r\n\r\n            if (_this.inArea(x, y)) {\r\n                _this.clearPie();\r\n                _this.options.out = _this.options.out ? false : true;\r\n                _this.basicDraw(_this.options.color);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    pie_chart.prototype.mouseOver = function() {\r\n        this.basicDraw(\"black\");\r\n    }\r\n\r\n    pie_chart.prototype.clearPie = function() {\r\n        this.basicDraw(\"white\");\r\n    };\r\n\r\n    return pie_chart;\r\n})();\r\n\r\n\r\nwindow.Pie = pie_chart;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./pie_chart.js\n ** module id = 0\n ** module chunks = 0\n **/","/*!\r\n * object-extend\r\n * A well-tested function to deep extend (or merge) JavaScript objects without further dependencies.\r\n *\r\n * http://github.com/bernhardw\r\n *\r\n * Copyright 2013, Bernhard Wanger <mail@bernhardwanger.com>\r\n * Released under the MIT license.\r\n *\r\n * Date: 2013-04-10\r\n */\r\n\r\n\r\n/**\r\n * Extend object a with object b.\r\n *\r\n * @param {Object} a Source object.\r\n * @param {Object} b Object to extend with.\r\n * @returns {Object} a Extended object.\r\n */\r\nmodule.exports = function extend(a, b) {\r\n\r\n    // Don't touch 'null' or 'undefined' objects.\r\n    if (a == null || b == null) {\r\n        return a;\r\n    }\r\n\r\n    // TODO: Refactor to use for-loop for performance reasons.\r\n    Object.keys(b).forEach(function (key) {\r\n\r\n        // Detect object without array, date or null.\r\n        // TODO: Performance test:\r\n        // a) b.constructor === Object.prototype.constructor\r\n        // b) Object.prototype.toString.call(b) == '[object Object]'\r\n        if (Object.prototype.toString.call(b[key]) == '[object Object]') {\r\n            if (Object.prototype.toString.call(a[key]) != '[object Object]') {\r\n                a[key] = b[key];\r\n            } else {\r\n                a[key] = extend(a[key], b[key]);\r\n            }\r\n        } else {\r\n            a[key] = b[key];\r\n        }\r\n\r\n    });\r\n\r\n    return a;\r\n\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./modules/tools/extend.js\n ** module id = 1\n ** module chunks = 0\n **/"],"sourceRoot":""}